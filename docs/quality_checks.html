<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Quality checks for recordings and annotations</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">OTS Bioacoustic Analysis in R 2022</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="program.html">Program</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="introduction.html">Introduction</a>
    </li>
    <li>
      <a href="r_basics.html">R basics</a>
    </li>
    <li>
      <a href="sound.html">Sound</a>
    </li>
    <li>
      <a href="spectrograms.html">Spectrograms</a>
    </li>
    <li>
      <a href="seewave.html">seewave</a>
    </li>
    <li>
      <a href="annotations.html">Annotations</a>
    </li>
    <li>
      <a href="ohun.html">ohun: automatic detection</a>
    </li>
    <li>
      <a href="intro_to_warbler.html">Intro to warbleR</a>
    </li>
    <li>
      <a href="measure_acoustic_structure.html">Measure acoustic structure</a>
    </li>
    <li>
      <a href="comparing_methods.html">Comparing measuring methods</a>
    </li>
    <li>
      <a href="quality_checks.html">Quality checks</a>
    </li>
    <li>
      <a href="measure_structure_green_hermit.html">Measure structure on XC recordings</a>
    </li>
  </ul>
</li>
<li>
  <a href="course_prep.html">Course prep</a>
</li>
<li>
  <a href="instructor.html">Instructor</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore"><font size="7"><b>Quality checks for recordings and annotations</b></font></h1>
<h3 class="subtitle"><center>
<font size="4"><b>Bioacoustic Analysis in R</b> <br> Organization for Tropical Studies</font>
</center></h3>
<h4 class="author"><center>
<font size="3"><a href="http://marceloarayasalas.weebly.com/">Marcelo Araya-Salas, PhD</a></font>
</center></h4>
<h4 class="date"><center>
“2022-05-20”
</center></h4>

</div>


<p> </p>
<p>When working with sound files obtained from various sources it is common to have variation in recording formats and parameters or even find corrupt files. Similarly, when a large number of annotations are used, it is normal to find errors in some of them. These problems may prevent the use of acoustic analysis in <strong>warbleR</strong>. Luckily, the package also offers functions to facilitate the detection and correction of errors in sound files and annotations.</p>
<div id="convert-.mp3-to-.wav" class="section level2">
<h2>Convert .mp3 to .wav</h2>
<p>The <code>mp32wav()</code> function allows you to convert files in ‘.mp3’ format to ‘.wav’ format. This function converts all the ‘mp3’ files in the working directory. Let’s use the files in the ‘./examples/mp3’ folder as an example:</p>
<pre class="r"><code>warbleR_options(wav.path = &quot;./examples&quot;, ovlp = 90)

list.files(path = &quot;./examples/mp3&quot;)

mp32wav(path = &quot;./examples/mp3&quot;)

list.files(path = &quot;./examples/mp3&quot;)</code></pre>
<pre><code>## [1] &quot;BlackCappedVireo.mp3&quot;                    
## [2] &quot;BowheadWhaleSong.mp3&quot;                    
## [3] &quot;CanyonWren.mp3&quot;                          
## [4] &quot;converted_sound_files&quot;                   
## [5] &quot;Map of Colibri coruscans recordings.jpeg&quot;
## [6] &quot;Map of Colibri cyanotus recordings.jpeg&quot; 
## [7] &quot;Map of Colibri delphinae recordings.jpeg&quot;</code></pre>
<pre><code>##  [1] &quot;BlackCappedVireo.mp3&quot;                    
##  [2] &quot;BlackCappedVireo.wav&quot;                    
##  [3] &quot;BowheadWhaleSong.mp3&quot;                    
##  [4] &quot;BowheadWhaleSong.wav&quot;                    
##  [5] &quot;CanyonWren.mp3&quot;                          
##  [6] &quot;CanyonWren.wav&quot;                          
##  [7] &quot;converted_sound_files&quot;                   
##  [8] &quot;Map of Colibri coruscans recordings.jpeg&quot;
##  [9] &quot;Map of Colibri cyanotus recordings.jpeg&quot; 
## [10] &quot;Map of Colibri delphinae recordings.jpeg&quot;</code></pre>
<p> </p>
<p>We can also modify the sampling rate and/or dynamic range with <code>mp32wav()</code>:</p>
<pre class="r"><code>mp32wav(path = &quot;./examples/mp3&quot;, samp.rate = 48, bit.depth = 24, overwrite = TRUE)

list.files(path = &quot;./examples/mp3&quot;)</code></pre>
<p> </p>
<p>We can check the properties of the ‘.wav’ sound files using the <code>info_sound_files()</code> function:</p>
<pre class="r"><code>info_sound_files(path = &quot;./examples/mp3&quot;)</code></pre>
<table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
duration
</th>
<th style="text-align:center;">
sample.rate
</th>
<th style="text-align:center;">
channels
</th>
<th style="text-align:center;">
bits
</th>
<th style="text-align:center;">
wav.size
</th>
<th style="text-align:center;">
samples
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
BlackCappedVireo.mp3
</td>
<td style="text-align:center;">
5.459592
</td>
<td style="text-align:center;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.4707031
</td>
<td style="text-align:center;">
120384
</td>
</tr>
<tr>
<td style="text-align:center;">
BlackCappedVireo.wav
</td>
<td style="text-align:center;">
5.459592
</td>
<td style="text-align:center;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.4707031
</td>
<td style="text-align:center;">
120384
</td>
</tr>
<tr>
<td style="text-align:center;">
BowheadWhaleSong.mp3
</td>
<td style="text-align:center;">
86.648163
</td>
<td style="text-align:center;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
7.4628906
</td>
<td style="text-align:center;">
1910592
</td>
</tr>
<tr>
<td style="text-align:center;">
BowheadWhaleSong.wav
</td>
<td style="text-align:center;">
86.648163
</td>
<td style="text-align:center;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
7.4628906
</td>
<td style="text-align:center;">
1910592
</td>
</tr>
<tr>
<td style="text-align:center;">
CanyonWren.mp3
</td>
<td style="text-align:center;">
5.433469
</td>
<td style="text-align:center;">
44.10
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.9355469
</td>
<td style="text-align:center;">
239616
</td>
</tr>
<tr>
<td style="text-align:center;">
CanyonWren.wav
</td>
<td style="text-align:center;">
5.433469
</td>
<td style="text-align:center;">
44.10
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.9355469
</td>
<td style="text-align:center;">
239616
</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div id="homogenize-recordings" class="section level2">
<h2>Homogenize recordings</h2>
<p>Alternatively, we can use the <code>fix_wavs()</code> function to homogenize the sampling rate, the dynamic interval and the number of channels. It is adviced that all sound files should have the same recording parameters before any acoustic analysis. In the example ‘.mp3’ files, not all of them have been recorded with the same parameters. We can see this if we convert them back to ‘.wav’ and see their properties:</p>
<pre class="r"><code>mp32wav(path = &quot;./examples/mp3&quot;, overwrite = TRUE)

info_sound_files(path = &quot;./examples/mp3&quot;)</code></pre>
<table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
duration
</th>
<th style="text-align:center;">
sample.rate
</th>
<th style="text-align:center;">
channels
</th>
<th style="text-align:center;">
bits
</th>
<th style="text-align:center;">
wav.size
</th>
<th style="text-align:center;">
samples
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
BlackCappedVireo.mp3
</td>
<td style="text-align:center;">
5.459592
</td>
<td style="text-align:center;background-color: #ccebff !important;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.4707031
</td>
<td style="text-align:center;">
120384
</td>
</tr>
<tr>
<td style="text-align:center;">
BlackCappedVireo.wav
</td>
<td style="text-align:center;">
5.459592
</td>
<td style="text-align:center;background-color: #ccebff !important;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.4707031
</td>
<td style="text-align:center;">
120384
</td>
</tr>
<tr>
<td style="text-align:center;">
BowheadWhaleSong.mp3
</td>
<td style="text-align:center;">
86.648163
</td>
<td style="text-align:center;background-color: #ccebff !important;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
7.4628906
</td>
<td style="text-align:center;">
1910592
</td>
</tr>
<tr>
<td style="text-align:center;">
BowheadWhaleSong.wav
</td>
<td style="text-align:center;">
86.648163
</td>
<td style="text-align:center;background-color: #ccebff !important;">
22.05
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
7.4628906
</td>
<td style="text-align:center;">
1910592
</td>
</tr>
<tr>
<td style="text-align:center;">
CanyonWren.mp3
</td>
<td style="text-align:center;">
5.433469
</td>
<td style="text-align:center;background-color: #ccebff !important;">
44.10
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.9355469
</td>
<td style="text-align:center;">
239616
</td>
</tr>
<tr>
<td style="text-align:center;">
CanyonWren.wav
</td>
<td style="text-align:center;">
5.433469
</td>
<td style="text-align:center;background-color: #ccebff !important;">
44.10
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
0.9355469
</td>
<td style="text-align:center;">
239616
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The <code>fix_wavs()</code> function will convert all files to the same sampling rate and dynamic range:</p>
<pre class="r"><code>fix_wavs(path = mp3.pth, samp.rate = 44.1, bit.depth = 24)

info_sound_files(path = &quot;./examples/mp3/converted_sound_files&quot;)</code></pre>
<table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
duration
</th>
<th style="text-align:center;">
sample.rate
</th>
<th style="text-align:center;">
channels
</th>
<th style="text-align:center;">
bits
</th>
<th style="text-align:center;">
wav.size
</th>
<th style="text-align:center;">
samples
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
BlackCappedVireo.wav
</td>
<td style="text-align:center;">
5.459592
</td>
<td style="text-align:center;background-color: #ccebff !important;">
44.1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;background-color: #ccebff !important;">
24
</td>
<td style="text-align:center;">
1.411133
</td>
<td style="text-align:center;">
240768
</td>
</tr>
<tr>
<td style="text-align:center;">
BowheadWhaleSong.wav
</td>
<td style="text-align:center;">
86.648163
</td>
<td style="text-align:center;background-color: #ccebff !important;">
44.1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;background-color: #ccebff !important;">
24
</td>
<td style="text-align:center;">
22.389648
</td>
<td style="text-align:center;">
3821184
</td>
</tr>
<tr>
<td style="text-align:center;">
CanyonWren.wav
</td>
<td style="text-align:center;">
5.433469
</td>
<td style="text-align:center;background-color: #ccebff !important;">
44.1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;background-color: #ccebff !important;">
24
</td>
<td style="text-align:center;">
1.404297
</td>
<td style="text-align:center;">
239616
</td>
</tr>
</tbody>
</table>
<p>Another useful function to check file properties is <code>wav_dur()</code>. This function returns the duration in seconds of each ‘.wav’ file.</p>
<p> </p>
</div>
<div id="check-recordings" class="section level2">
<h2>Check recordings</h2>
<p><code>check_sound_files()</code> should be the first function that should be used before running any <strong>warbleR</strong> analysis. The function simply checks if the sound files in ‘.wav’ format in the working directory can be read in R. For example, the following code checks all the files in the ‘examples’ folder, which should detect the ‘corrupted_file.wav’:</p>
<pre class="r"><code>check_sound_files()</code></pre>
<pre><code>## WAC with trigger(s), converting individual segment(s) to WAV file(s).
## All files can be read</code></pre>
<p>If we remove that file from the folder, the function returns the following message:</p>
<pre class="r"><code>check_sound_files()</code></pre>
<pre><code>## WAC with trigger(s), converting individual segment(s) to WAV file(s).
## All files can be read</code></pre>
<p> </p>
</div>
<div id="spectrograph-settings" class="section level2">
<h2>Spectrograph settings</h2>
<p>The parameters that determine the appearance of spectrograms (and power spectra and periodgrams) also have an effect on the measurements taken on them. Therefore it is necessary to use the same parameters to analyze all the signals in a project (except with some exceptions) so that the measurements are comparable. The visualization of spectrograms generated with different spectrographic parameters is a useful way of defining the combination of parameters with which the structure of the signals is distinguished in more detail. The function <code>tweak_spectro()</code> aims to simplify the selection of parameters through the display of spectrograms. The function plots, for a single selection, a mosaic of spectrograms with different display parameters. For numerical arguments, the upper and lower limits of a range can be provided. The following parameters may have variable values:</p>
<ul>
<li><strong>wl</strong>: window length (numerical range)</li>
<li><strong>ovlp</strong>: overlap (numerical range)</li>
<li><strong>collev.min</strong>: minimum amplitude value for color levels (numerical range)</li>
<li><strong>wn</strong>: window function name (character)</li>
<li><strong>pal</strong>: palette (character)</li>
</ul>
<p>The following code generates an image with spectrograms that vary in window size and window function (the rest of the parameters are passed to the <code>catalog ()</code> function internally to create the mosaic):</p>
<pre class="r"><code>tweak_spectro(X = lbh_selec_table,  wl = c(100, 1000),  wn = c(&quot;hanning&quot;, &quot;hamming&quot;, &quot;rectangle&quot;), 
           length.out = 16, nrow = 8, ncol = 6, width = 15, height = 20,
           rm.axes = TRUE, cex = 1, box = F)</code></pre>
<p><img src="images/spec_param1.jpeg" alt="viewSpec" width="780"></p>
<p> </p>
<p>Note that the <code>length.out</code> argument defines the number of values to interpolate within the numerical ranges. <code>wl = 220</code> seems to produce clearer spectrograms.</p>
<p>We can add a color palette to differentiate the levels of one of the parameters, for example ‘wn’:</p>
<pre class="r"><code>#install.packages(&quot;RColorBrewer&quot;)

library(RColorBrewer)

# crear paleta
cmc &lt;- function(n) if(n &gt; 5) rep(adjustcolor(brewer.pal(5, &quot;Spectral&quot;), alpha.f = 0.6), ceiling(n/4))[1:n] else adjustcolor(brewer.pal(n, &quot;Spectral&quot;), alpha.f = 0.6)

tweak_spectro(X = lbh_selec_table,  wl = c(100, 1000),  wn = c(&quot;hanning&quot;, &quot;hamming&quot;, &quot;rectangle&quot;), 
           length.out = 16, nrow = 8, ncol = 6, width = 15, height = 20, 
           rm.axes = TRUE, cex = 1, box = F,  group.tag = &quot;wn&quot;,  
           tag.pal = list(cmc))</code></pre>
<p><img src="images/spec_param3.jpeg" alt="viewSpec" width="780"></p>
<p> </p>
<p>We can also use it to choose the color palette and the minimum amplitude for plotting (‘collev.min’):</p>
<pre class="r"><code>tweak_spectro(X = lbh_selec_table,  wl = 220,  collev.min = c(-20, -100), pal = c(&quot;reverse.gray.colors.2&quot;, &quot;reverse.topo.colors&quot;,  &quot;reverse.terrain.colors&quot;), length.out = 16, nrow = 8, ncol = 6, width = 15, height = 20, rm.axes = TRUE, cex = 1, box = F,  group.tag = &quot;pal&quot;,  tag.pal = list(cmc))</code></pre>
<p><img src="images/spec_param2.jpeg" alt="viewSpec" width="780"></p>
<p> </p>
</div>
<div id="double-check-selections" class="section level2">
<h2>Double-check selections</h2>
<p>The main function to double-check selection tables is <code>check_sels()</code>. This function checks a large number of possible errors in the selection information:</p>
<ul>
<li>‘X’ is an object of the class ‘data.frame’ or ‘selection_table’ (see selection_table) and contains the columns required to be used in any warbleR function (‘sound.files’, ‘selec’, ‘start’ , ‘end’, if it does not return an error)</li>
<li>‘sound.files’ in ‘X’ corresponds to the .wav files in the working directory or in the provided ‘path’ (if no file is found it returns an error, if some files are not found it returns error information in the output data frame)</li>
<li>the time limit parameters (‘start’, ‘end’) and frequency (‘bottom.freq’, ‘top.freq’, if provided) are numeric and do not contain NA (if they do not return an error)</li>
<li>There are no duplicate selection tags (‘selec’) within a sound file (if it does not return an error)</li>
<li>sound files can be read (error information in the output data frame)</li>
<li>The start and end time of the selections is within the duration of the sound files (error information in the output data frame)</li>
<li>Sound files can be read (error information in the output data frame)</li>
<li>The header (header) of the sound files is not damaged (only if the header = TRUE, error information in the selection table with results)</li>
<li>‘top.freq’ is less than half of the sampling frequency (nyquist frequency, error information in the data table with results)</li>
<li>Negative values are not found in the time or frequency limit parameters (error information in the data table with results)</li>
<li>‘start’ higher than ‘end’ or ‘bottom.freq’ higher than ‘top.freq’ (error information in the output data frame)</li>
<li>The value of ‘channel’ is not greater than the number of channels in the sound files (error information in the output data frame)</li>
</ul>
<pre class="r"><code>cs &lt;- check_sels(lbh_selec_table)</code></pre>
<pre><code>## all selections are OK</code></pre>
<p> </p>
<p>The function returns a data frame that includes the information in ‘X’ plus additional columns about the format of the sound files, as well as the result of the checks (column ‘check.res’):</p>
<pre class="r"><code>cs</code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
channel
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
<th style="text-align:center;">
check.res
</th>
<th style="text-align:center;">
duration
</th>
<th style="text-align:center;">
min.n.samples
</th>
<th style="text-align:center;">
sample.rate
</th>
<th style="text-align:center;">
channels
</th>
<th style="text-align:center;">
bits
</th>
<th style="text-align:center;">
sound.file.samples
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
1.3423884
</td>
<td style="text-align:center;">
2.220105
</td>
<td style="text-align:center;">
8.604378
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1730334
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3893
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
56251
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
2.3214565
</td>
<td style="text-align:center;">
2.169437
</td>
<td style="text-align:center;">
8.807053
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1630480
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3668
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
56251
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
0.5182553
</td>
<td style="text-align:center;">
2.218294
</td>
<td style="text-align:center;">
8.756604
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1749187
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3935
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
56251
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
0.2921692
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
8.822316
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1325709
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2982
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
38251
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
1.5832087
</td>
<td style="text-align:center;">
2.284006
</td>
<td style="text-align:center;">
8.888027
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1261502
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2838
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
38251
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.6265520
</td>
<td style="text-align:center;">
0.7577715
</td>
<td style="text-align:center;">
3.006834
</td>
<td style="text-align:center;">
8.822316
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1312195
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2952
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
49500
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.9742132
</td>
<td style="text-align:center;">
2.1043921
</td>
<td style="text-align:center;">
2.776843
</td>
<td style="text-align:center;">
8.888027
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1301789
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2929
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
49500
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.1233643
</td>
<td style="text-align:center;">
0.2545812
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
9.315153
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1312170
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2952
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
49500
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long4.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.5168116
</td>
<td style="text-align:center;">
1.6622365
</td>
<td style="text-align:center;">
2.513997
</td>
<td style="text-align:center;">
9.216586
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1454249
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3272
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
72000
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long4.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2.9326920
</td>
<td style="text-align:center;">
3.0768784
</td>
<td style="text-align:center;">
2.579708
</td>
<td style="text-align:center;">
10.235116
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1441864
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3244
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
72000
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long4.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.1453977
</td>
<td style="text-align:center;">
0.2904966
</td>
<td style="text-align:center;">
2.579708
</td>
<td style="text-align:center;">
9.742279
</td>
<td style="text-align:center;">
OK
</td>
<td style="text-align:center;">
0.1450989
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3264
</td>
<td style="text-align:center;">
22.5
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
72000
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Let’s modified a selection table to see how the function works:</p>
<pre class="r"><code># copiar las primeras 6 filas
st2 &lt;- lbh_selec_table[1:6, ]

# hacer caracter 
st2$sound.files &lt;- as.character(st2$sound.files)

# cambiar nombre de archivo de sonido en sel 1
st2$sound.files[1] &lt;- &quot;aaa.wav&quot;

# modificar fin en sel 3
st2$end[3] &lt;- 100

# hacer top.freq igual q bottom freq en sel 3
st2$top.freq[3] &lt;- st2$bottom.freq[3]

# modificar top freq en sel 5
st2$top.freq[5] &lt;- 200

# modificar channes en sel 6
st2$channel[6] &lt;- 3

#revisar
cs &lt;- check_sels(st2)

cs[, c(1:7, 10)]</code></pre>
<pre><code>## 
##  some selections listed as having more than 1 channel found in sound files with only 1 channel; channel field relabeled as &#39;1&#39; 
## 3 selection(s) are not OK</code></pre>
<table class="table table-striped" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
channel
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
<th style="text-align:center;">
min.n.samples
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
aaa.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
1.3423884
</td>
<td style="text-align:center;">
2.220105
</td>
<td style="text-align:center;">
8.604378
</td>
<td style="text-align:center;background-color: #ccebff !important;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
2.3214565
</td>
<td style="text-align:center;">
2.169437
</td>
<td style="text-align:center;">
8.807053
</td>
<td style="text-align:center;background-color: #ccebff !important;">
3668
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
100.0000000
</td>
<td style="text-align:center;">
2.218294
</td>
<td style="text-align:center;">
2.218294
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2242274
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
0.2921692
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
8.822316
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2982
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
1.5832087
</td>
<td style="text-align:center;">
2.284006
</td>
<td style="text-align:center;">
200.000000
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2838
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.6265520
</td>
<td style="text-align:center;">
0.7577715
</td>
<td style="text-align:center;">
3.006834
</td>
<td style="text-align:center;">
8.822316
</td>
<td style="text-align:center;background-color: #ccebff !important;">
2952
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><code>check_sels()</code> is used internally when creating selection tables and extended selection tables.</p>
<p> </p>
<div id="visual-inspection-of-spectrograms" class="section level3">
<h3>Visual inspection of spectrograms</h3>
<p>Once the information in the selections has been verified, the next step is to ensure that the selections contain accurate information about the location of the signals of interest. This can be done by creating spectrograms of all selections. For this we have several options. The first is <code>spectrograms()</code> (previously called <code>specreator()</code>) which generates (by default) a spectrogram for each selection. We can run it on the sample data like this:</p>
<pre class="r"><code># using default parameters tweak_spectro()
warbleR_options(wav.path = &quot;./examples&quot;, wl = 220, wn = &quot;hanning&quot;, ovlp = 90, pal = reverse.topo.colors)

spectrograms(lbh_selec_table, collevels = seq(-100, 0, 5))</code></pre>
<p> </p>
<p>The images it produces are saved in the working directory and look like this:</p>
<p><img src="images/spectrograms2.gif" alt="viewSpec" width="400"></p>
<p> </p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p> </p>
<ul>
<li>Have the label shown on the selection display the data in the ‘sel.comment’ column of the sample selection box using the <code>sel.labels</code> argument</li>
</ul>
</div>
<p> </p>
</div>
<div id="full-spectrograms" class="section level3">
<h3>Full spectrograms</h3>
<p>We can create spectrograms for the whole sound files using <code>full_spectrograms()</code>. If the <code>X</code> argument is not given, the function will create the spectrograms for all the files in the working directory. Otherwise, the function generates spectrograms for sound files in <code>X</code> and highlights selections with transparent rectangles similar to those of<code>spectrograms()</code>. In this example we download a recording from a striped-throated hermit (<em>Phaethornis striigularis</em>) from Xeno-Canto:</p>
<pre class="r"><code># load package with color palettes
library(viridis)

# create directory
dir.create(&quot;./examples/hermit&quot;)

# download sound file
phae.stri &lt;- query_xc(qword = &quot;nr:154074&quot;, download = TRUE, path = &quot;./examples/hermit&quot;)

# Convert mp3 to wav format
mp32wav(path = &quot;./examples/hermit/&quot;, pb = FALSE)

# plot full spec
full_spectrograms(sxrow = 1, rows = 10, pal = magma,  wl = 200, flim = c(3, 10),
          collevels = seq(-140, 0, 5), path = &quot;./examples/hermit/&quot;)</code></pre>
<p><img src="images/fullspec_hermit.gif" alt="hermit" width="700"></p>
<p> </p>
</div>
</div>
<div id="catalogs" class="section level2">
<h2>Catalogs</h2>
<p>Catalogs allow you to inspect selections of many recordings in the same image and group them by categories. This makes it easier to verify the consistency of the categories. Many of the arguments are shared with <code>tweak_spectro()</code> (<code>catalog()</code> is used internally in <code>tweak_spectro()</code>). We can generate a catalog with color tags to identify selections from the same sound file as follows:</p>
<pre class="r"><code># read bat inquiry data
inq &lt;- readRDS(file = &quot;ext_sel_tab_inquiry.RDS&quot;)

catalog(X = inq[1:100, ], flim = c(10, 50), nrow = 10, ncol = 10, 
        same.time.scale = T, mar = 0.01, gr = FALSE, img.suffix = &quot;inquiry&quot;,
        labels = c(&quot;sound.files&quot;, &quot;selec&quot;), legend = 0, rm.axes = TRUE, 
        box = F,  group.tag = &quot;sound.files&quot;,  tag.pal = list(magma), 
        width = 20, height = 20, pal = viridis, collevels = seq(-100, 0, 5))</code></pre>
<p><img src="images/Catalog_p1-inquiry.jpeg" alt="viewSpec" width="680"></p>
<p> </p>
<div class="alert alert-info">
<p><font size="5">Exercise</font></p>
<p> </p>
<ul>
<li>Using the ‘lbh_selec_table’ data, create a catalog with selections color-tagged by song type</li>
</ul>
</div>
<p> </p>
</div>
<div id="tailoring-selections" class="section level2">
<h2>Tailoring selections</h2>
<p>The position of the selections in the sound file (i.e. its ‘coordinates’ of time and frequency) can be modified interactively from R using the <code>sel_tailor()</code> function. This function produces a graphic window showing spectrograms and a series of ‘buttons’ that allow you to modify the view and move forward in the selection table:</p>
<pre class="r"><code>tailor_sels(X = lbh_selec_table[1:4, ], auto.next = TRUE)</code></pre>
<p><img src = "images/seltailor.contour.gif" alt = "expraven1" width = "820"></p>
<p> </p>
<p>The function returns the corrected data as a data frame in R and also saves a ‘.csv’ file in the directory where the sound files are located.</p>
<p><code>sel_tailor()</code> can also be used to modify frequency contours such as those produced by the <code>dfDTW()</code> or <code>ffDTW()</code> function:</p>
<pre class="r"><code>cntours &lt;- freq_ts(X = lbh_selec_table[1:5, ])

tail.cntours &lt;-tailor_sels(X = lbh_selec_table[1:5, ], ts.df = cntours, 
                auto.contour = TRUE)</code></pre>
<p><img src = "images/seltailor.contour.gif" alt = "expraven1" width = "820"></p>
<p> </p>
<hr />
</div>
<div id="references" class="section level2">
<h2>References</h2>
<ol style="list-style-type: decimal">
<li>Araya-Salas M, Smith-Vidaurre G (2017) warbleR: An R package to streamline analysis of animal acoustic signals. Methods Ecol Evol 8:184–191.</li>
</ol>
<p> </p>
<hr />
<p><font size="4">Session information</font></p>
<pre><code>## R version 4.1.1 (2021-08-10)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.2 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
## LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0
## 
## locale:
##  [1] LC_CTYPE=es_ES.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=es_ES.UTF-8    
##  [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=es_ES.UTF-8   
##  [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] kableExtra_1.3.4   warbleR_1.1.27     NatureSounds_1.0.4 knitr_1.37        
## [5] seewave_2.2.0      tuneR_1.3.3.1     
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.8         bslib_0.2.5.1      compiler_4.1.1     jquerylib_0.1.4   
##  [5] moments_0.14       bitops_1.0-7       tools_4.1.1        digest_0.6.29     
##  [9] viridisLite_0.4.0  jsonlite_1.7.2     evaluate_0.15      lifecycle_1.0.1   
## [13] fftw_1.0-6.1       rlang_1.0.2        cli_3.2.0          rstudioapi_0.13   
## [17] yaml_2.3.5         parallel_4.1.1     xfun_0.30          fastmap_1.1.0     
## [21] xml2_1.3.2         stringr_1.4.0      httr_1.4.2         systemfonts_1.0.2 
## [25] sass_0.4.0         webshot_0.5.2      svglite_2.0.0      glue_1.6.2        
## [29] R6_2.5.1           dtw_1.22-3         pbapply_1.5-0      rmarkdown_2.10    
## [33] magrittr_2.0.2     bioacoustics_0.2.8 scales_1.1.1       htmltools_0.5.2   
## [37] MASS_7.3-54        rvest_1.0.1        colorspace_2.0-3   stringi_1.7.6     
## [41] proxy_0.4-26       munsell_0.5.0      signal_0.7-7       RCurl_1.98-1.6    
## [45] rjson_0.2.21</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
